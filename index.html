<html>
<head>
  <title>Demo Social Services</title>
  <link href="//mozorg.cdn.mozilla.net/media/css/tabzilla-min.css" rel="stylesheet" />
  <link rel="stylesheet" media="screen,projection,tv" href="//mozorg.cdn.mozilla.net/media/css/firefox_new-min.css?build=0d2a0a0" />
  <link id="siteicon" rel="icon" href="./firefox.png"/>
  <link href="css/featherlight.min.css" type="text/css" rel="stylesheet" title="Featherlight Styles" />
  <link rel="stylesheet" media="screen,projection,tv" href="directory.css" />

  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="js/featherlight.min.js" type="text/javascript" charset="utf-8"></script>
  <script src="js/jquery.mustache.js"></script>
  <script src="js/jquery.cycle2.min.js"></script>
  <script src="js/jquery.cycle2.center.js"></script>
  <script src="./provider-data.js" type="text/javascript"></script>
  <script>
    function pageSet() {
      initViewData();
      var page = location.hash.substr(1).split("/");
      var locale = page.shift(), name = page = page.shift();
      if (!name) {
        name = locale;
      }
      var data, output;
      if (name) {
        data = views.source[name];
      }
      if (!data) {
        page = location.href.split("/");
        name = page.pop();
        if (name) {
          data = views.source[name];
        }
      }
      var target = $(data ? "#detail" : '#directory');

      $("#carousel-promotions").attr("hidden", "true");
      $('.cycle-slideshow').cycle('pause');
      if (data) {
        output = $("#detail-template").mustache(data);
        $("#detail").html(output);
        var c = $("#carousel-details");
        if (c) {
          $("#carousel-details").removeAttr("hidden");
          $("#carousel-details .cycle-slideshow").cycle();
        }
      } else {
        output = $("#directory-template").mustache(views);
        $("#directory-grid").html(output);
        output = $("#carousel-template").mustache(views);
        $("#carousel-promo").html(output);
        $("#carousel-promotions").removeAttr("hidden");
        $('#carousel-promo').cycle('reinit');
      //$('.cycle-slideshow').cycle('pause'); 
      }

      target.removeAttr('hidden');
      target.siblings().attr('hidden', 'true');

      if (!data) {
        // adjust the height of our directory listing so everything lines up nice
        var boxes = $('.provider-entry-inner');
        var maxHeight = Math.max.apply(
          Math, boxes.map(function() {
            return $(this).height();
          }).get());
        boxes.height(maxHeight);
      }
      
      window.scrollTo(0, 0);
    }

    $(document).ready(function($) {

      $("#directory-domain").text(location.origin);
      if (!(/Firefox/.test(navigator.userAgent))) {
        $("#incompatibility-banner").removeAttr("hidden");
        $(".button").addClass("insensitive");
        $(".button").removeAttr("onclick");
      }

      $(window).bind( 'hashchange', function(e) {
        pageSet();
      });
      pageSet();

    });

    function activateProvider(node, name) {
      var event = new CustomEvent("ActivateSocialFeature");
      node.setAttribute("data-service", JSON.stringify(views.source[name].manifest));
      node.dispatchEvent(event);
    }
  </script>
</head>
<body class="html-ltr sky">
  <div id="outer-wrapper">

  <div id="wrapper" class="shadow">
    <header id="masthead">
      <a href="/en-US/" id="tabzilla" data-infobar="translation">Mozilla</a>

      <nav id="nav-main" role="navigation">
        <ul id="nav-main-menu">
          <li><a href="">SocialAPI Demo</a></li>
          <li><a id="about" href="#" data-featherlight="#aboutModel">About</a></li>
          <li><a href="https://developer.mozilla.org/en-US/docs/Social_API">Documentation</a></li>
        </ul>
      </nav>

      <h2><img src="//mozorg.cdn.mozilla.net/media/img/firefox/new/header-firefox.png?2013-06" alt="Firefox for desktop"></h2>
    </header>
  </div>

  <div id="aboutModel" tabindex="-1" aria-labelledby="myModalLabel" aria-hidden="true" hidden="true">
    <h4 id="myModalLabel">Firefox SocialAPI Demo Instructions</h4>
    <div>
      <p class="lead"><span class="bold-italic">To
    install from this directory</span> you must modify the <span
    class="bold-italic">social.directories</span>
    preference in Firefox to include the domain <span id="directory-domain"
    class="bold-italic"></span>, you can do that in
    about:config.</p>
    </div>
  </div>

  <div id="incompatibility-banner" hidden="true"><p>You must use Firefox to install Social services.<a href="http://www.mozilla.org/products/download.html?product=firefox" class="firefox-download">Download.</a>
  </p></div>

  <div id="carousel-promotions" class="carousel" hidden="true">
    <div class="carousel-wrapper">
    <div id="carousel-promo" class="cycle-slideshow carousel-inner"
      data-cycle-center-horz=true
      data-cycle-center-vert=true
      data-cycle-pager=".cycle-pager"
      data-cycle-fx="scrollHorz"
      data-cycle-timeout="5000"
      data-cycle-slides="&gt; div">
    </div>
    <div class="cycle-pager center"></div>
    </div>
  </div>

  <div id="wrapper" class="content">
    <div id="directory" hidden="true">
      <div class="directory-header">
      <h3>More SocialAPI Demo Providers</h3>
      <p class="lead">These are useful as examples and UI testing. Many of
        these will not work in several ways. In most cases they are not provided
        by the website linked to.  Some of the demos use the mobile websites,
        you may need to install a <a
        href="https://addons.mozilla.org/en-US/firefox/addon/wmlbrowser/">WML
        extension for Firefox.</a> You should also read the <a data-toggle="modal"
        data-target="#aboutModel">instructions to use this site.</a></p>
      </div>
      <div id="directory-grid" class="row"></div>
    </div>

    <div id="detail" hidden="true"></div>
  </div>
  <div id="colophon">
    <div class="container">
      <div class="row">

          <div class="footer-logo">
              <a href="http://www.mozilla.org/en-US/"><img src="//mozorg.cdn.mozilla.net/media/img/sandstone/footer-mozilla.png" alt="mozilla"></a>
          </div>

          <div class="footer-license">
              <p>
                Portions of this content are &copy;1998&dash;2014 by individual mozilla.org contributors. Content available under a <a href="http://www.mozilla.org/en-US/foundation/licensing/website-content/">Creative Commons license</a>.              </p>
              <p>
                <a href="http://www.mozilla.org/en-US/contribute/page/">Contribute to this page</a>
              </p>
          </div>
          <ul class="footer-nav">
            <li><a href="http://www.mozilla.org/en-US/contact/spaces/">Contact Us</a></li>
            <li><a href="http://www.mozilla.org/en-US/about/partnerships/">Partner with Us</a></li>
            <li><a href="https://sendto.mozilla.org/page/contribute/EOYFR2013-tabzilla?source=mozillaorg_footer&amp;amount=20" class="donate">Donate</a></li>
            <li><a href="http://www.mozilla.org/en-US/privacy/">Privacy Policy</a></li>
            <li><a href="http://www.mozilla.org/en-US/about/legal.html">Legal Notices</a></li>
            <li><a href="http://www.mozilla.org/en-US/legal/fraud-report/index.html">Report Trademark Abuse</a></li>
          </ul>
          <ul class="footer-nav">
            <li><a href="https://twitter.com/mozilla">Mozilla on Twitter</a></li>
            <li><a href="https://twitter.com/firefox">Firefox on Twitter</a></li>
            <li><a href="https://www.facebook.com/mozilla">Mozilla on Facebook</a></li>
            <li><a href="https://www.facebook.com/Firefox">Firefox on Facebook</a></li>
            <li><a href="https://affiliates.mozilla.org/">Firefox Affiliates</a></li>
          </ul>

      </div>
    </div>
  </div>
  </div>
  
    <script id="carousel-template" type="text/html">
      <span class="cycle-prev">&lsaquo;</span>
      <span class="cycle-next">&rsaquo;</span>
      {{#carousel}}
      <div class="item">
        <div class="item-inner">
          <div style="float:right; width: 50%">
          <img src="{{lang.default.images.carousel}}"></img>
          </div>
          <div>
          {{#lang.default.images.fulllogo}}
          <h2><img src="{{lang.default.images.fulllogo}}"></img></h2>
          {{/lang.default.images.fulllogo}}
          {{^lang.default.images.fulllogo}}
          <h2><img src="{{lang.default.images.logo}}"></img> {{manifest.name}}</h2>
          {{/lang.default.images.fulllogo}}
          <h3 class="tagline">{{lang.default.tagline}}</h3>
          <p class="description">{{lang.default.shortDescription}}</p>
          </div>
          <div class="activation">
          <a class="button gutter-bottom-24" onclick="activateProvider(this, '{{key}}')">Activate now <span>&raquo;</span></a>
          <br/><a href="#{{key}}" class="moreinfo">find out more...</a>
          </div>
        </div>
      </div>    
      {{/carousel}}
    </script>    

    <script id="directory-template" type="text/html">
      {{#data}}
      <div class="provider-entry col-2 clearfix" onclick="location='#{{key}}'">
        <div class="provider-entry-inner clearfix">
          {{#lang.default.images.fulllogo}}
          <h2><img src="{{lang.default.images.fulllogo}}"></img></h2>
          {{/lang.default.images.fulllogo}}
          {{^lang.default.images.fulllogo}}
          <h2><img src="{{lang.default.images.logo}}"></img> {{manifest.name}}</h2>
          {{/lang.default.images.fulllogo}}
          <h3 class="tagline">{{lang.default.tagline}}</h3>
          <p class="provider-description">{{lang.default.shortDescription}}</p>
        </div>
      </div>
      {{/data}}
    </script>

    <script id="detail-carousel-template" type="text/html">
      {{#lang.default.images.details}}
        <div><img src="{{.}}"></img></div>
      {{/lang.default.images.details}}
    </script>

    <script id="detail-template" type="text/html">
      <div class="detail-header clearfix">
        <div>
        <a href="#">{{lang.default.strings.home}}</a>
        </div>
        <div>
        <span>{{lang.default.name}}</span>
        </div>
      </div>
      <div class="detail-content">
      <div class="row">
        <div class="col-2">
          <div class="provider-item-detail">
          {{#lang.default.images.fulllogo}}
          <h1><img src="{{lang.default.images.fulllogo}}"></img></h1>
          {{/lang.default.images.fulllogo}}
          {{^lang.default.images.fulllogo}}
          <h1><img src="{{lang.default.images.logo}}"></img> {{lang.default.name}}</h1>
          {{/lang.default.images.fulllogo}}
            <h3 class="tagline">{{lang.default.tagline}}</h3>
            <p class="lead">{{lang.default.shortDescription}}</p>
            <a class="button gutter-bottom-12" onclick="activateProvider(this, '{{key}}')">{{lang.default.strings.activatenow}} <span>&raquo;</span></a>
            <p class="provider-description">{{{lang.default.description}}}</p>
            <br/><a href="{{lang.default.links.learnmore}}" class="moreinfo">{{lang.default.strings.learnmore}}</a>
          </div>
        </div>
        <div class="col-2 clearfix">
        {{#lang.default.images}}
          {{#detail}}
          <img src="{{detail}}" class="provider-primary-image" />
          {{/detail}}
          {{^detail}}
          <div id="carousel-details" hidden="true">
            <div class="cycle-slideshow carousel-inner"
              data-cycle-pager="#detail-pager">
              {{#details}}
                <img src="{{.}}"/>
              {{/details}}
            </div>
            <div id="detail-pager" class="cycle-pager center external"></div>
          </div>
          {{/detail}}
        {{/lang.default.images}}
        {{#lang.default.videos}}
        <div id="detail-videos" class="center">
          {{#youtube}}
          <a href="http://www.youtube.com/watch?v={{.}}"><img src="//i1.ytimg.com/vi/{{.}}/mqdefault.jpg"/></a>
          {{/youtube}}
        </div>
        {{/lang.default.videos}}
        </div>
      </div>
      </div>
    </script>

  <script src="//mozorg.cdn.mozilla.net/tabzilla/tabzilla.js"></script>
</body>
</html>
